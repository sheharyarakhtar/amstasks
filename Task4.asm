ORG 00H
MOV TMOD, #00010101B

MOV P0,#0
MOV P1,#0

BACK2:
	BACK:
		JB P2.1,BACK
	SETB TR0
	ACALL DELAY
	
	MOV P0,TL0
	MOV P1, TH0
	SJMP BACK2

DELAY: 
	MOV R0, #15
	BACK1: MOV TL1,#0
	MOV TH1,#0
	SETB TR1
	HERE: JNB TF1,HERE
	CLR TR1
	CLR TF1
	DJNZ R0, BACK1
	RET
END